{% extends "bargraph/dashboard.html"%}
{% block body %}
<div class="graphs col-4 text-white me-2">
    <canvas id="myChart" style="width:100%;max-width:600px;"></canvas>
</div>
<div class="info col-5 text-white">
    <div class="col-12">
        <div class="container-fluid d-flex justify-content-end mb-5" style="float: right;">
            <div class="row">
                <form action="{% url 'deepchem_qsar' %}" method="post">
                    {% csrf_token %}
                    <input class="col" style="width: 100%; border-radius: 5px;" class="form-control"
                        placeholder="Smiles" name="smiles" value="{{smiles}}" />
                    <!-- <div class="col-4"> -->
                    <button class="btn btn-outline-light" type="submit">Search</button>
                    <!-- </div> -->
                </form>
            </div>
        </div>
    </div>
    <div class="col-12">
        <h2>Description</h2>
        <p>
            Deep learning is utilized to predict the solubility and toxicity of molecules, aiding in drug discovery and
            safety evaluation. These predictions are generated by analyzing molecular descriptors and employing complex
            neural network architectures. Accurate solubility predictions assist researchers in identifying promising
            drug candidates with favorable properties for formulation. Toxicity predictions help assess the safety
            profile of chemicals and compounds. By leveraging large datasets and intricate patterns, deep learning
            enables faster and more efficient drug discovery and chemical screening processes. Its application in
            predicting solubility and toxicity has significant implications for advancing pharmaceutical research and
            enhancing safety assessment procedures.
        <p>Solubilty: {{sol}}</p>
        <p>Toxicity Nature: {{tox}}</p>
        {% if toxicity_label == "Toxic" %}
        <p>The molecule {{smiles}} is <span style="color: red;">{{toxicity_label}}</span></p>
        {% else %}
        <p>The molecule {{smiles}} is <span style="color: green;">{{toxicity_label}}</span></p>
        {% endif %}
        </p>
    </div>
</div>
</div>
</div>
</div>
<script>
    var xValues = ["Solubilty", "Toxicity",];
    var yValues = ['{{sol}}', '{{tox}}',];
    var barColors = ["green", "blue", "brown"];

    new Chart("myChart", {
        type: "bar",
        data: {
            labels: xValues,
            datasets: [{
                backgroundColor: barColors,
                data: yValues
            }]
        },
        options: {
            legend: { display: false },
            title: {
                display: true,
                text: "Prediction on smiles",
                fontSize: 20
            }
        }
    });
</script>

<script>
    $(window).on('load', function () {
        $('.preloader').fadeOut('slow');
    });
</script>
<script src=" https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous">
    </script>
{% endblock %}